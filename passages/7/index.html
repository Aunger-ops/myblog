<!-- build time:Tue Apr 28 2020 13:40:53 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="51单片机,硬件,嵌入式,PHP,Laravel,Python,API,RestFulAPI,大数据,后端,Aunger&#39;s Blog,Aunger" name="keywords"><meta content="Keil的编程环境落后、伤眼、用起来不舒适？工欲善其事，必先利其器。VSCode + SDCC助你在C51单片机嵌入式开发上游刃有余。Aunger&#39;s Blog 欢迎来到我的博客。本博客会经常更新涉及PHP,Python,C,51单片机,Laravel,linux,易语言,前端,后端等技术性学术文章!" name="description"><meta content="width=device-width,initial-scale=1,maximum-scale=1" name="viewport"><title>51单片机之开发环境使用VSCode结合SDCC取代Keil - Geek Designer</title><link href="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/favicon.ico" rel="shortcut icon"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/fancybox/jquery.fancybox.min.css"><script src="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/js/pace.min.js"></script><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Geek Designer" type="application/atom+xml"></head></html><body><main class="content"><section class="outer"><article id="post-7" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">51单片机之开发环境使用VSCode结合SDCC取代Keil</h1></header><div class="article-meta"><a href="/passages/7/" class="article-date"><time datetime="2020-02-22T13:25:36.000Z" itemprop="datePublished">2020-02-22</time></a><div class="article-category"><a class="article-category-link" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E5%BC%80%E5%8F%91/">嵌入式开发</a></div></div><div class="tocbot"></div><div class="article-entry" itemprop="articleBody"><p>Keil的编程环境落后、伤眼、用起来不舒适？工欲善其事，必先利其器。VSCode + SDCC助你在C51单片机嵌入式开发上游刃有余。</p><a id="more"></a><h2 id="为什么选择SDCC而不是Keil"><a href="#为什么选择SDCC而不是Keil" class="headerlink" title="为什么选择SDCC而不是Keil"></a>为什么选择SDCC而不是Keil</h2><h4 id="Keil缺点："><a href="#Keil缺点：" class="headerlink" title="Keil缺点："></a>Keil缺点：</h4><ol><li>功能较弱，只适合个人和小团队开发，不适合中型、大型开发</li><li>是收费软件，需要付费，大多数人用 Keil C 都是盗版</li><li>Keil内部中文注释是乱码，配套编辑器缩进不方便</li><li>Keil支持较为局限</li></ol><h4 id="SDCC缺点："><a href="#SDCC缺点：" class="headerlink" title="SDCC缺点："></a>SDCC缺点：</h4><ol><li>SDCC不配套的调试器，不能够调试硬件</li></ol><h2 id="下载与配置"><a href="#下载与配置" class="headerlink" title="下载与配置"></a>下载与配置</h2><ol><li>编辑器我们推荐使用VSCode，并针对VSCode配置了一套设置文件（查看 【 其他资料 】中的<code>VSCode的相应设置文件</code>进行下载）</li><li><a href="https://code.visualstudio.com/download" target="_blank" rel="noopener" title="下载VSCode">下载VSCode</a></li><li>然后根据计算机版本完成VSCode的安装</li><li><a href="https://sourceforge.net/projects/sdcc/files/" target="_blank" rel="noopener" title="下载SDCC">下载SDCC</a></li><li>同样根据自己的系统安装对应版本的SDCC，例如我安装的是<a href="https://sourceforge.net/projects/sdcc/files/sdcc-win64/3.8.0/sdcc-3.8.0-x64-setup.exe/download" target="_blank" rel="noopener" title="SDCCWin64">SDCCWin64</a>的V3.8</li><li>安装好SDCC需要配置Path系统变量</li></ol><h2 id="关于本项目的说明"><a href="#关于本项目的说明" class="headerlink" title="关于本项目的说明"></a>关于本项目的说明</h2><ol><li>VSCode的语法错误提示已经被屏蔽，需要的自行删除.vscode的setting（如果删除语法错误屏蔽，正确的书写方法会报一些错误）</li><li>代码文件默认放在usr文件夹中，临时文件放在tmp文件夹中</li><li>目前的Makefile仅支持C51单文件编译</li><li>Publish的批处理文件是用来一键删除所有的临时文件和生成过的hex文件，如果想要删除tmp文件夹下的临时文件和生成过的hex文件，可以运行publish.bat</li><li>使用时，打开VSCode，点击File-Open Folder，然后选择本repo的文件夹，如果你按照默认目录安装sdcc，你打开一个usr文件夹下的C文件，然后点击Terminal-RunBuildTask，即可成功编译并生成可烧录的hex文件。</li></ol><h2 id="SDCC与Keil语法差异"><a href="#SDCC与Keil语法差异" class="headerlink" title="SDCC与Keil语法差异"></a>SDCC与Keil语法差异</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;8052.h&gt;&#x2F;&#x2F;#include&lt;reg52.h&gt;</span><br><span class="line">#define pin P0_0&#x2F;&#x2F;sbit pin&#x3D;P0^0;</span><br><span class="line">&#x2F;&#x2F;在使用中断函数之前要声明</span><br></pre></td></tr></table></figure><h2 id="其他资料"><a href="#其他资料" class="headerlink" title="其他资料"></a>其他资料</h2><ul><li><a href="https://gitee.com/haozewu/C51?_from=gitee_search#sdcc%E5%92%8Ckeil%E8%AF%AD%E6%B3%95%E5%B7%AE%E5%BC%82" target="_blank" rel="noopener">VSCode的相应设置文件</a></li><li><a href="https://www.pjrc.com/tech/8051/" target="_blank" rel="noopener" title="8051例程">8051例程</a></li></ul></div><footer class="article-footer"><a data-url="https://www.webaun.cn/passages/7/" data-id="ck9jh4ejz001mo4uxfegs7060" class="article-share-link">Share</a><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/51%E5%8D%95%E7%89%87%E6%9C%BA/" rel="tag">51单片机</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" rel="tag">嵌入式</a></li></ul></footer></div><nav class="article-nav"><a href="/passages/8/" class="article-nav-link"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">用JS写前端可预测的随机</div></a><a href="/passages/6/" class="article-nav-link"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">Android反编译之Smali语法基础</div></a></nav><div class="gitalk" id="gitalk-container"></div><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="https://cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.min.js"></script><script type="text/javascript">var gitalk=new Gitalk({clientID:"e6637aa75b71f443a50e",clientSecret:"2fcf9724afcf5468626ae968ad188f55890ecbde",repo:"myblog",owner:"Aunger-ops",admin:["Aunger-ops"],id:md5(location.pathname),distractionFreeMode:!1,pagerDirection:"last"});gitalk.render("gitalk-container")</script></article></section><footer class="footer"><div class="outer"><div class="float-right"><ul class="list-inline"><li><i class="fe fe-smile-alt"></i> <span id="busuanzi_value_site_uv"></span></li><li><i class="fe fe-bookmark"></i> <span id="busuanzi_value_page_pv"></span></li></ul></div><ul class="list-inline"><li>&copy; 2020 Geek Designer <a target="_blank" href="http://miitbeian.gov.cn" style="display:inline-block;text-decoration:none;height:20px;line-height:20px"><p style="height:20px;line-height:20px;margin:0 0 0 5px;color:#939393">粤ICP备20026716号</p></a><br><a target="_blank" href="http://www.beian.gov.cn/" style="display:inline-block;text-decoration:none;height:20px;line-height:20px"><img src="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/images/beian.png" style="float:left;width:20px;height:20px"><p style="float:left;height:20px;line-height:20px;margin:0 0 0 5px;color:#939393">粤公网安备 44060602001553号</p></a></li></ul></div></footer></main><aside class="sidebar"><button class="navbar-toggle"></button><nav class="navbar"><div class="logo"><a href="/"><img src="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/images/gen.svg" alt="Geek Designer"></a></div><ul class="nav nav-main"><li class="nav-item"><a class="nav-item-link" href="/">首页</a></li><li class="nav-item"><a class="nav-item-link" href="/archives">归档</a></li><li class="nav-item"><a class="nav-item-link" href="/gallery">相册</a></li><li class="nav-item"><a class="nav-item-link" href="/about">关于</a></li><li class="nav-item"><a class="nav-item-link" href="/friends">友联</a></li><li class="nav-item"><a class="nav-item-link" href="/projects">作品</a></li><li class="nav-item"><a class="nav-item-link nav-item-search" title="Search"><i class="fe fe-search"></i> 搜索</a></li></ul></nav><nav class="navbar navbar-bottom"><ul class="nav"><li class="nav-item"><div class="totop" id="totop"><i class="fe fe-rocket"></i></div></li><li class="nav-item"><a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed"><i class="fe fe-feed"></i></a></li></ul></nav><div class="search-form-wrap"><div class="local-search local-search-plugin"><input type="search" id="local-search-input" class="local-search-input" placeholder="Search..."><div id="local-search-result" class="local-search-result"></div></div></div></aside><script src="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/js/jquery-2.0.3.min.js"></script><script src="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/js/jquery.justifiedGallery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/js/lazyload.min.js"></script><script src="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/js/busuanzi-2.3.pure.min.js"></script><script src="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/fancybox/jquery.fancybox.min.js"></script><script>!function(){var t=document.createElement("script"),s=window.location.protocol.split(":")[0];"https"===s?t.src="https://zz.bdstatic.com/linksubmit/push.js":t.src="http://push.zhanzhang.baidu.com/push.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}()</script><script src="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/js/tocbot.min.js"></script><script>tocbot.init({tocSelector:".tocbot",contentSelector:".article-entry",headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:!0,scrollSmooth:!0,positionFixedSelector:".tocbot",positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto"})</script><script src="https://cdn.jsdelivr.net/gh/Aunger-ops/myblog@latest/js/ocean.js"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?fe34b9a1ed05edfef1b30971cd3517ee";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>!function(t){function n(){for(var n=0;n<e.length;n++)i=e[n],0<=(o=i.getBoundingClientRect()).bottom&&0<=o.left&&o.top<=(t.innerHeight||document.documentElement.clientHeight)&&function(){var t,i,o,r,c=e[n];t=c,i=function(){e=e.filter(function(t){return c!==t})},o=new Image,r=t.getAttribute("data-original"),o.onload=function(){t.src=r,i&&i()},o.src=r}();var i,o}var e=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));n(),t.addEventListener("scroll",function(){var e,i;e=n,i=t,clearTimeout(e.tId),e.tId=setTimeout(function(){e.call(i)},500)})}(this)</script><script>window.addEventListener("load",function(){var a=/\.(gif|jpg|jpeg|tiff|png)$/i,e=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(t){var r=t.parentNode;"A"===r.tagName&&(r.href.match(a)||r.href.match(e))&&(r.href=t.dataset.original)})})</script></body><!-- rebuild by neat -->